Relatório de possíveis erros detectados em 20/11/2025

1) `src/main/java/BriamBank/Controller/ConAluno.java` (método `listarPorTurma`)
   - As strings SQL são concatenadas sem espaços entre os trechos (`"Pontos'" + "FROM aluno"`), produzindo comandos como `SELECT ..., SUM(...)FROM aluno`, que o MySQL rejeita. Além disso, o uso de `SELECT *` juntamente com `GROUP BY NomeAluno` quebra em bancos com `ONLY_FULL_GROUP_BY` habilitado; qualquer coluna fora do agrupamento precisa estar em uma função de agregação ou no próprio `GROUP BY`.
   - A consulta usa `INNER JOIN pontos` e agrupa apenas os registros existentes na tabela de pontos. Alunos sem lançamentos nunca aparecem no resultado, o que causa ranking incompleto quando um estudante tem zero pontos.

2) `src/main/java/BriamBank/Controller/ConJustificativa.java` (método `EditarJust`)
   - A comparação `if (Status == "Inativo")` usa `==` em vez de `equals`. Como `==` compara referências, a condição quase sempre retorna `false`, deixando `status` verdadeiro e impossibilitando marcar justificativas como inativas.

3) `src/main/java/BriamBank/Controller/ConTurma.java` (métodos `cadTurma` e `editar`)
   - O mesmo erro de comparação é repetido: `if (turma.getGRUPO_Turma() == "Inteiro")`. Isso impede a conversão do texto “Inteiro” para “I”, deixando o valor errado ser salvo/atualizado. O correto seria `equalsIgnoreCase("Inteiro")` (ou similar).

4) `src/main/java/BriamBank/Model/Conexao.java`
   - O método `desconectar()` chama `conn.close()` sem verificar se `conn` foi inicializado. Se `conectar()` falhar e retornar `null`, métodos controladores que chamam `desconectar()` no bloco `finally` acabam acionando um `NullPointerException` adicional.

5) `src/main/java/BriamBank/View/CadAluno.java` (handler `cadastrarAActionPerformed`)
   - A validação de e-mail está invertida: `if (((!email.equals(...) && !email.matches(...)) && email.isEmpty()) || ...)`. A condição só entra quando o e-mail está **vazio** e ainda assim falha na regex, permitindo que endereços inválidos mas não vazios passem sem bloqueio.
   - Validação recomendada: primeiro ignore o placeholder (`"E-Mail do Aluno"`). Em seguida, se o campo não estiver vazio e **não** corresponder ao padrão `^[\\w.-]+@[\\w-]+\\.[A-Za-z]{2,}$` (ajuste conforme necessidade), mostre o erro; se estiver vazio, trate como obrigatório. Exemplo:
     `if (email.equals("E-Mail do Aluno") || email.isBlank()) { ... } else if (!email.matches("^[\\w.-]+@[\\w-]+\\.[A-Za-z]{2,}$")) { ... }`

6) `src/main/java/BriamBank/Controller/ConRelatorio.java`
   - O método `gerarRelatorioPorProfessor()` obtém o professor logado e imediatamente chama `professor.getRM_Professor()` sem verificar se a sessão existe; se alguém invocar esse controller fora da tela `RelatorioGerar`, um `NullPointerException` derruba a geração. A consulta de pontos também usa dois `INNER JOIN`, portanto alunos sem lançamentos ficam fora do relatório e a nota calculada diverge da realidade. Por fim, o código assume que a pasta `Downloads` existe e é gravável; em ambientes corporativos/Ubuntu Server o caminho não está presente e o método falha silenciosamente.

7) Cobertura de testes
   - Apenas o arquivo `src/test/java/ConProfessorTest.java` existe e está totalmente comentado, o que significa que nenhuma das regras acima possui testes automatizados. Isso aumenta o risco de regressões e dificulta a identificação dos problemas mencionados.

Recomendações gerais:
- Corrigir as comparações de `String`, ajustar as consultas SQL (espaços, colunas agregadas e `LEFT JOIN` onde necessário) e reforçar as validações de entrada.
- Antes de escrever arquivos em disco, validar caminhos/permissões e permitir que o usuário escolha o destino.
- Adicionar testes para os fluxos críticos de aluno, justificativa, turma, pontos e relatórios.

